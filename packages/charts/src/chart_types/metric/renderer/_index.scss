@import './variables';
@import 'dom/text';
@import 'dom/progress';
@import 'dom/sparkline';
@import 'dom/secondary_metric';
@import 'dom/badge';

$progress-bar-target-size: 8px;
$progress-bar-target-width: $progress-bar-target-size;
$progress-bar-target-height: $progress-bar-target-size;

.echMetricContainer {
  display: grid;
  width: 100%;
  height: 100%;
  align-content: start;
  justify-content: stretch;
  align-items: stretch;
  user-select: text;
}

.echMetric {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  transition: background-color ease-in-out 0.1s;

  .echMetric--outline {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
  }

  &:focus-within {
    .echMetric--outline {
      outline: auto;
      outline-offset: -1.5px;
    }
  }

  &--rightBorder {
    border-right: 1px solid #343741;
  }

  &--topBorder {
    border-top: 1px solid #343741;
  }

  &--bottomBorder {
    border-bottom: 1px solid #343741;
  }

  &--vertical {
    // TODO: Find a better way to style based on sizes (i.e. sass functions)
    &.echMetric--withProgressBar {
      &--small {
        padding-left: $progress-bar-width-small + $padding;
      }
      &--medium {
        padding-left: $progress-bar-width-medium + $padding;
      }
      &--large {
        padding-left: $progress-bar-width-large + $padding;
      }
    }

    &.echMetric--withTargetProgressBar {
      &--small {
        padding-left: $progress-bar-width-small + $padding + $progress-bar-target-width;
      }
      &--medium {
        padding-left: $progress-bar-width-medium + $padding + $progress-bar-target-width;
      }
      &--large {
        padding-left: $progress-bar-width-large + $padding + $progress-bar-target-width;
      }
    }
  }

  &--horizontal {
    &.echMetric--withProgressBar {
      &--small {
        padding-bottom: $progress-bar-height-small + $padding;
      }
      &--medium {
        padding-bottom: $progress-bar-height-medium + $padding;
      }
      &--large {
        padding-bottom: $progress-bar-height-large + $padding;
      }
    }

    &.echMetric--withTargetProgressBar {
      &--small {
        padding-bottom: $progress-bar-height-small + $padding + $progress-bar-target-height;
      }
      &--medium {
        padding-bottom: $progress-bar-height-medium + $padding + $progress-bar-target-height;
      }
      &--large {
        padding-bottom: $progress-bar-height-large + $padding + $progress-bar-target-height;
      }
    }
  }
}

.echMetricEmpty {
  position: absolute;
  bottom: 9px;
  right: 11px;
  width: 20px;
  border-bottom: 1px solid;
}
