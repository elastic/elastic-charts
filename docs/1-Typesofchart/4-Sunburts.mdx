import { Chart, Datum, Partition, PartitionLayout } from '../../src';
import { mocks } from '../../src/mocks/hierarchical/index';
import { config } from '../../src/chart_types/partition_chart/layout/config/config';
import { getRandomNumber } from '../../src/mocks/utils';
import { ShapeTreeNode } from '../../src/chart_types/partition_chart/layout/types/viewmodel_types';
import {
  categoricalFillColor,
  colorBrewerCategoricalPastel12,
  colorBrewerCategoricalStark9,
  countryLookup,
  indexInterpolatedFillColor,
  interpolatorCET2s,
  interpolatorTurbo,
  productLookup,
  regionLookup,
} from '../../stories/utils/utils';

<Meta title="Types of charts/Sunburts/Basic pie chart" />

# A very simple pie chart 

<Chart className={'story-chart'}>
    <Partition
        id={'spec_' + getRandomNumber()}
        data={mocks.pie}
        valueAccessor={(d) => d.exportVal}
        valueFormatter={(d) => `$${config.fillLabel.valueFormatter(Math.round(d / 1000000000))}\xa0Bn`}
        layers={[
        {
            groupByRollup: (d) => d.sitc1,
            nodeLabel: (d) => productLookup[d].name,
            fillLabel: { textInvertible: true },
            shape: {
            fillColor: indexInterpolatedFillColor(interpolatorCET2s),
            },
        },
        ]}
    />
</Chart>

The code sample can be found within the details below. 

<details>

```js
<Chart className={'story-chart'}>
    <Partition
        id={'spec_' + getRandomNumber()}
        data={mocks.pie}
        valueAccessor={(d) => d.exportVal}
        valueFormatter={(d) => `$${config.fillLabel.valueFormatter(Math.round(d / 1000000000))}\xa0Bn`}
        layers={[
        {
            groupByRollup: (d) => d.sitc1,
            nodeLabel: (d) => productLookup[d].name,
            fillLabel: { textInvertible: true },
            shape: {
            fillColor: indexInterpolatedFillColor(interpolatorCET2s),
            },
        },
        ]}
    />
</Chart>
```
</details>

## Props table for a basic sunburst chart 

These props are for the `<Partition/>` component as seen in the code snippet above 

| Prop | Type | Default | Note |
|:------|:------:|:---------:|:------|
| id  `(required)` | `string` |  'spec_' + getRandomNumber() | The id of the spec |
| data `(required)` | |  | |
| valueAccessor |  | |  |
| valueFormatter| |  |  |
| layers | Array |  |  |
| groupByRollup| function | | |
| nodeLabel | function | | |
| fillLabel | object { textInvertible : boolean} | | |
| shape | object { fillColor: indexInterpolatedFillColor(interpolatorCET2s) }

