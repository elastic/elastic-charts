import { boolean } from '@storybook/addon-knobs';
import {
  Axis,
  Chart,
  CurveType,
  getAxisId,
  getSpecId,
  LineSeries,
  niceTimeFormatByDay,
  Position,
  ScaleType,
  Settings,
  timeFormatter,
} from '../../src/';
import { KIBANA_METRICS } from '../../src/utils/data_samples/test_dataset_kibana';
import { TSVB_DATASET } from '../../src/utils/data_samples/test_dataset_tsvb';

<Meta title="Types of charts/Line Charts/Basic and with axes" />

# Line Chart

Here is a basic line chart from Elastic Charts

<Chart className={'story-chart'}>
    <LineSeries
    id={getSpecId('lines1')}
    xScaleType={ScaleType.Time}
    yScaleType={ScaleType.Linear}
    xAccessor={0}
    yAccessors={[1]}
    data={KIBANA_METRICS.metrics.kibana_os_load[0].data}
    />
</Chart>

## The code sample for the above chart

The data is generated from kibana metrics data
```
<Chart className={'story-chart'}>
    <LineSeries
    id={getSpecId('lines1')}
    xScaleType={ScaleType.Time}
    yScaleType={ScaleType.Linear}
    xAccessor={0}
    yAccessors={[1]}
    data={KIBANA_METRICS.metrics.kibana_os_load[0].data}
    />
</Chart>
```

Here is a `linear x axis` line chart 

<Chart className={'story-chart'}>
    <Axis
    id={getAxisId('bottom')}
    position={Position.Bottom}
    showOverlappingTicks={true}
    tickFormat={timeFormatter(niceTimeFormatByDay(1))}
    title={'timestamp per 1 minute'}
    />
    <Axis
    id={getAxisId('left')}
    title={KIBANA_METRICS.metrics.kibana_os_load[0].metric.title}
    position={Position.Left}
    tickFormat={(d) => `${Number(d).toFixed(2)}%`}
    />
    <LineSeries
    id={getSpecId('lines')}
    xScaleType={ScaleType.Linear}
    yScaleType={ScaleType.Linear}
    xAccessor={0}
    yAccessors={[1]}
    data={KIBANA_METRICS.metrics.kibana_os_load[0].data.slice(0, 5)}
    />
</Chart>



***

## The code sample of this chart can be found below 

Notice how the `<Axis position={Position.Left}/>` includes a tickFormat prop to achieve the percentages. 
```
<Chart className={'story-chart'}>

    <Axis
    id={getAxisId('bottom')}
    position={Position.Bottom}
    showOverlappingTicks={true}
    tickFormat={timeFormatter(niceTimeFormatByDay(1))}
    title={'timestamp per 1 minute'}
    />

    <Axis
    id={getAxisId('left')}
    title={KIBANA_METRICS.metrics.kibana_os_load[0].metric.title}
    position={Position.Left}
    tickFormat={(d) => `${Number(d).toFixed(2)}%`}
    />

    <LineSeries
    id={getSpecId('lines')}
    xScaleType={ScaleType.Linear}
    yScaleType={ScaleType.Linear}
    xAccessor={0}
    yAccessors={[1]}
    data={KIBANA_METRICS.metrics.kibana_os_load[0].data.slice(0, 5)}
    />

</Chart>
```

***

## Prop Table for line charts

| Prop | Type | Default | Note |
|:------|:------:|:---------:|:------|
| id `(required)`|`getSpecId(string) or string` ||The id of the spec |
| chartType | `typeof ChartTypes.XYAxis` | ChartTypes.XYAxis  |  |
| specType  | `typeof SpecTypes.Series` | SpecTypes.Series  |  |    
| seriesTypes  | | SeriesTypes.Line |  |
| groupId  || DEFAULT_GROUP_ID |The ID of the line, generated via getGroupId method|
| xScaleType `(required)`| `ScaleType (ScaleType.Ordinal or ScaleType.Linear or ScaleType.Time)`|ScaleType.Ordinal | The x axis scale type |
| yScaleType `(required)`| `ScaleType (ScaleType.Ordinal or ScaleType.Linear or ScaleType.Time)`| ScaleType.Linear | The y axis scale type |
| xAccessor `(required)` | Accessor | 'x' | the field name of the x value on the Datum object|
| yAccessors `(required)`||['y'] | An array of field names one per y metric value |
| yScaleToDataExtent || false ||
| hideInLegend | boolean | false | If the series should appear in the legend|
| histogramModeAlignment | `Start or Center or End` | histogramModeAlignment.Center | Determines how points in the series will align to bands in histogram mode |
| data `(required)` | datum[] |  | An array of data |

### Axis Prop Table 

| Prop | Type | Default | Note |
|:------|:------:|:---------:|:------|
| chartType `(required)` | `typeof ChartTypes.XYAxis` | ChartTypes.XYAxis  |  |
| specType `(required)` | `typeof SpecTypes.Axis` |  |  |
| groupId`(required)` | GroupId | `__global__`  | The ID of the axis group, generated via getGroupId method  |
| hide `(required)` |boolean  | false  | Hide this axis |
| showOverlappingTicks `(required)` | boolean | false  | Shows all ticks, also the one from the overlapping labels   |
| showOverlappingLabels`(required)` | boolean  | false  | Shows all labels, also the overlapping ones |
| position `(required)`|  | Position.Left | Where the axis appear on the chart |
| tickSize  `(required)`| number | 10 | The length of the tick line |
| tickPadding `(required)`| number | 10 | The padding between the label and the tick |
| tickFormat `(required)`| `function` | `(tick: any) => ${tick}`| A function called to format each single tick label|
| tickLabelRotation `(required)`| number | `0`| The degrees of rotation of the tick labels|
